var MapIconMaker={};MapIconMaker.createMarkerIcon=function(a){var b=a.width||32;var c=a.height||32;var d=a.primaryColor||"#ff0000";var e=a.strokeColor||"#000000";var f=a.cornerColor||"#ffffff";var g="http://chart.apis.google.com/chart?cht=mm";var h=g+"&chs="+b+"x"+c+"&chco="+f.replace("#","")+","+d.replace("#","")+","+e.replace("#","")+"&ext=.png";var j=new GIcon(G_DEFAULT_ICON);j.image=h;j.iconSize=new GSize(b,c);j.shadowSize=new GSize(Math.floor(b*1.6),c);j.iconAnchor=new GPoint(b/2,c);j.infoWindowAnchor=new GPoint(b/2,Math.floor(c/12));j.printImage=h+"&chof=gif";j.mozPrintImage=h+"&chf=bg,s,ECECD8"+"&chof=gif";h=g+"&chs="+b+"x"+c+"&chco="+f.replace("#","")+","+d.replace("#","")+","+e.replace("#","");j.transparent=h+"&chf=a,s,ffffff11&ext=.png";j.imageMap=[b/2,c,(7/16)*b,(5/8)*c,(5/16)*b,(7/16)*c,(7/32)*b,(5/16)*c,(5/16)*b,(1/8)*c,(1/2)*b,0,(11/16)*b,(1/8)*c,(25/32)*b,(5/16)*c,(11/16)*b,(7/16)*c,(9/16)*b,(5/8)*c];for(var i=0;i<j.imageMap.length;i++){j.imageMap[i]=parseInt(j.imageMap[i])}return j};MapIconMaker.createFlatIcon=function(b){var c=b.width||32;var d=b.height||32;var e=b.primaryColor||"#ff0000";var f=b.shadowColor||"#000000";var g=MapIconMaker.escapeUserText_(b.label)||"";var h=b.labelColor||"#000000";var i=b.labelSize||0;var j=b.shape||"circle";var k=(j=="circle")?"it":"itr";var l="http://chart.apis.google.com/chart?cht="+k;var m=l+"&chs="+c+"x"+d+"&chco="+e.replace("#","")+","+f.replace("#","")+"ff,ffffff01"+"&chl="+g+"&chx="+h.replace("#","")+","+i;var n=new GIcon(G_DEFAULT_ICON);n.image=m+"&chf=bg,s,00000000"+"&ext=.png";n.iconSize=new GSize(c,d);n.shadowSize=new GSize(0,0);n.iconAnchor=new GPoint(c/2,d/2);n.infoWindowAnchor=new GPoint(c/2,d/2);n.printImage=m+"&chof=gif";n.mozPrintImage=m+"&chf=bg,s,ECECD8"+"&chof=gif";n.transparent=m+"&chf=a,s,ffffff01&ext=.png";n.imageMap=[];if(k=="roundrect"){n.imageMap=[0,0,c,0,c,d,0,d]}else{var o=8;var p=360/o;var q=Math.min(c,d)/2;for(var a=0;a<(o+1);a++){var r=p*a*(Math.PI/180);var s=q+q*Math.cos(r);var t=q+q*Math.sin(r);n.imageMap.push(parseInt(s),parseInt(t))}}return n};MapIconMaker.createLabeledMarkerIcon=function(a){var b=a.primaryColor||"#DA7187";var c=a.strokeColor||"#000000";var d=a.starPrimaryColor||"#FFFF00";var e=a.starStrokeColor||"#0000FF";var f=MapIconMaker.escapeUserText_(a.label)||"";var g=a.labelColor||"#000000";var h=a.addStar||false;var i=(h)?"pin_star":"pin";var j="http://chart.apis.google.com/chart?cht=d&chdp=mapsapi&chl=";var k=j+i+"'i\\"+"'["+f+"'-2'f\\"+"hv'a\\]"+"h\\]o\\"+b.replace("#","")+"'fC\\"+g.replace("#","")+"'tC\\"+c.replace("#","")+"'eC\\";if(h){k+=d.replace("#","")+"'1C\\"+e.replace("#","")+"'0C\\"}k+="Lauto'f\\";var l=new GIcon(G_DEFAULT_ICON);l.image=k+"&ext=.png";l.iconSize=(h)?new GSize(23,39):new GSize(21,34);return l};MapIconMaker.escapeUserText_=function(a){if(a===undefined){return null}a=a.replace(/@/,"@@");a=a.replace(/\\/,"@\\");a=a.replace(/'/,"@'");a=a.replace(/\[/,"@[");a=a.replace(/\]/,"@]");return encodeURIComponent(a)};
